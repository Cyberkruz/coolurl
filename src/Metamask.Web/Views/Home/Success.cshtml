@model Metamask.Web.Models.SuccessViewModel
@{
  ViewData["Title"] = "Url Created";
}
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand js-scroll-trigger" href="/">Hide a site</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
  </div>
</nav>
<!-- End Navigation -->

<!-- Signup Section -->
<section id="signup" class="signup-section">
  <div class="container">
    <div class="row">
      <div class="col-md-10 col-lg-8 mx-auto text-center">

        <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
        <h2 class="text-white mb-5">Success! Your new link has been created.</h2>

        <form class="form-inline d-flex">
          <input type="email" class="form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0" id="inputUrl" value="@Model.MaskedPageUrl">
          <button type="submit" id="btnCopy" class="btn btn-primary mx-auto">Copy</button>
        </form>

      </div>
    </div>
  </div>
</section>
<!-- End Signup -->

@section Scripts {
  <script type="text/javascript">
    (function () {
      var inputUrl = document.getElementById('inputUrl'),
        btnCopy = document.getElementById('btnCopy');

      if (btnCopy.addEventListener) {
        btnCopy.addEventListener('click', copyText, false);
      } else if (target.attachEvent) {
        btnCopy.attachEvent('onclick', copyText);
      }

      function copyText(e) {
        inputUrl.disabled = false;
        inputUrl.focus();
        inputUrl.select();
        document.execCommand('copy');
        btnCopy.innerHTML = 'Copied!';
        inputUrl.disabled = true;
        blurAll();
        preventAction(e);
      }

      function blurAll() {
        var bodyScroll = document.body.scrollTop,
          htmlScroll = document.documentElement.scrollTop,
          tmp = document.createElement("input");
        tmp.style.opacity = 0;
        document.body.appendChild(tmp);
        tmp.focus();
        document.body.removeChild(tmp);
        document.body.scrollTop = bodyScroll;
        document.documentElement.scrollTop = htmlScroll;
      }

      function preventAction(e) {
        if (e) {
          if (typeof e.preventDefault != 'undefined') {
            e.preventDefault();
          } else {
            evt.returnValue = false;
          }
        }
        return false;
      }
    })();
  </script>
}